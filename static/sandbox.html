<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8">
	<title>Heartbleed test console</title>
	
	<!-- Stylesheet -->
	<link href="sandbox.css" rel="stylesheet"/>

</head>

<body>

	<!-- HTML -->

	<!-- Preloading loading icon -->
	<img src="loading.gif" style="visibility: hidden;" />

	<a href="https://github.com/hajiz/heartbleed"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png"></a>

	<div id="sandbox">sandbox console loading...</div>

	<div class="credits">
		<h1>Credits:</h1>
		<p>To assemble this demo, I have forked some of the projects and scripts which were available online and stitched them together, and therefore claim no copyright on this. The parents of this application are:</p>
		<p class="creditline">The backend is a modified version of this <a href="https://gist.github.com/sh1n0b1/10100394">original code</a>.</p>
		<p class="creditline">The console is a modified version of <a href="https://github.com/josscrowcroft/javascript-sandbox-console">Javascript Sandbox Console</a>.</p>
		<p class="creditline">The server is backed by <a href="http://flask.pocoo.org/docs/quickstart/#a-minimal-application">Flask</a>.</p>
		<p class="creditline">And I learned some python along the way: <a href="http://www.skymind.com/~ocrow/python_string/">How to concat strings</a>. Don't blame me, <a href="https://twitter.com/StackStatus/status/455249315112701953">StackOverflow was down</a>.</p>
	</div>


	<!-- Templates -->
	
	<!-- The sandbox template: -->
	<script type="text/template" id="tplSandbox">
		<pre class="output"></pre>
		<div class="input">
			<textarea rows="1" placeholder="<%= placeholder %>"></textarea>
		</div>
	</script>

	<!-- The command/result template (NB whitespace/line breaks matter inside <pre> tag): -->
	<script type="text/template" id="tplCommand"><% if (! _hidden) { %><span class="command"><%= command %></span>
<span class="prefix"><%= this.resultPrefix %></span><span class="<%= _class %>"><%= result %></span>
<% } %></script>


	<!-- Scripts -->

	<!-- Underscore, Backbone, backbone-localStorage, jQuery -->
	<script src="libs/underscore.min.js"></script>
	<script src="libs/backbone.min.js"></script>
	<script src="libs/backbone-localStorage.min.js"></script>
	<script src="libs/jquery.min.js"></script>

	<!-- The JS Sandbox Console script (requires underscore, backbone and jquery): -->
	<script src="sandbox-console.js"></script>
	
	<!-- When ready, create the model and view -->
	<script type="text/javascript">
		jQuery(document).ready(function($) {
			// Create the sandbox:
			window.sandbox = new Sandbox.View({
				el : $('#sandbox'),
				model : new Sandbox.Model({
					iframe : true,  // evaluate commands inside a hidden iframe (default: false)
					fallback : true // use global eval if iframe isn't available (default: true)
				})
			});
			window.sandbox.model.load('http://code.jquery.com/jquery-1.6.4.js');
		});
	</script>

</body>
</html>
